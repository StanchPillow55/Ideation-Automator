'use client'; import React,{useEffect,useState} from 'react'; const API=process.env.NEXT_PUBLIC_API_URL||'http://localhost:8000';
export default function Builder(){const[P,setP]=useState<any[]>([]); useEffect(()=>{(async()=>{const r=await fetch(`${API}/v1/packs`);setP(await r.json());})()},[]); return(<div className="card"><h2 className="text-xl font-semibold mb-2">Builder / Preview</h2><ul className="space-y-2">{P.map(p=>(<li key={p.pack_id} className="border rounded p-3"><div className="font-semibold">{p.title}</div><div className="text-sm text-gray-600">{p.pack_id}</div><div className="mt-1">{Object.entries(p.exports||{}).map(([k,v])=>(<a key={k} className="text-blue-600 underline mr-3" href={`${API.replace(/\/$/,'')}/exports/${(v as string).split('/').pop()}`} target="_blank">{k}</a>))}</div></li>))}</ul></div>);} 

